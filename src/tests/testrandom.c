/* Copyright (c) 2023-2024 Gilad Odinak */
#include <stdio.h>
#include <math.h>
#include "random.h"

const float nrand_num[100] = {
    -1.618028,  0.532402, -0.189837, -0.941522,
     2.492349, -0.167458,  0.014215,  0.027783,
    -0.609123, -0.677216, -0.749591,  0.317184,
     0.358501,  0.091458,  1.793195,  0.765510,
    -0.214807,  0.876966, -0.262471, -0.207176,
     0.837873,  0.151388,  0.220790,  1.085386,
    -1.352030, -0.756447,  0.407625,  2.286950,
     1.224480, -1.677749, -1.125167,  0.573313,
     1.880601,  1.171000, -0.441172, -1.372706,
     1.396388, -0.378783,  0.168048, -0.942597,
    -1.077618, -0.295021,  2.002876, -0.627961,
    -1.428117, -0.593043,  0.478125,  1.171632,
     0.169357, -0.715297,  1.318444, -0.632827,
    -0.807847, -1.533200, -0.454795,  1.265960,
     0.013397,  0.382958,  1.795809, -0.832160,
     0.752639, -0.545158, -0.907643, -0.657162,
     1.291964,  0.502827,  0.671403,  1.003726,
     3.103666,  0.322519,  1.648610,  0.616232,
     0.116385, -0.170629,  0.931926,  0.206573,
     1.487172, -0.039826, -1.253843, -0.706263,
     0.861301, -0.387352,  1.353048,  0.556176,
     0.633433,  1.086962,  0.130764, -0.689013,
    -1.744949,  1.013319,  0.355795, -0.801393,
     0.570584,  0.603638,  0.096814, -0.581374,
     0.263720,  2.369828,  0.042695,  0.643307
};

int main()
{
    init_lrng(42);
    for (int i = 0; i < 100; i++) {
        float r = nrand(0.0,1.0);
        if (fabsf(r - nrand_num[i]) >= 1.0e-6) {
            printf("at %d result %9.6f differs from reference %9.6f\n",
                   i,r,nrand_num[i]);
            return -1;
        }
    }
    printf("Test passed OK\n");
    return 0;
}

